<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Calculation of climatic indicators • CARD</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculation of climatic indicators">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CARD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/V01-climatic_indicators.html">Calculation of climatic indicators</a></li>
    <li><a class="dropdown-item" href="../articles/V02-hydrological_indicators.html">Calculation of hydrological indicators</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculation of climatic indicators</h1>
            
      

      <div class="d-none name"><code>V01-climatic_indicators.Rmd</code></div>
    </div>

    
    
<p>The aim of this vignette is to show the calculation of all
statistical indicators only related to meteorological data (indicator
evolving flow are excluded).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://louis-heraut.github.io/CARD/">CARD</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: EXstat</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gitlab.irstea.fr/HYCAR-Hydro/airgrgalaxy/airgrdatasets" class="external-link">airGRdatasets</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div class="section level2">
<h2 id="presentation-of-the-dataset">Presentation of the dataset<a class="anchor" aria-label="anchor" href="#presentation-of-the-dataset"></a>
</h2>
<p>The package <strong>airGRdatasets</strong> provides time series for
gauging stations located on Metropolitan French territory.</p>
<p>The river basins present in this package are:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all data sets in the package</span></span>
<span><span class="va">station_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="st">"package:airGRdatasets"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a table with meta data of each gauging station</span></span>
<span><span class="va">station_metadata</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">station_ids</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>CodeH3 <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Meta</span><span class="op">$</span><span class="va">Code</span><span class="op">$</span><span class="va">H3</span>,</span>
<span>               Name <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Meta</span><span class="op">$</span><span class="va">Name</span>,</span>
<span>               Latitude <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Meta</span><span class="op">$</span><span class="va">Coor</span><span class="op">$</span><span class="va">Y</span>,</span>
<span>               Longitude <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Meta</span><span class="op">$</span><span class="va">Coor</span><span class="op">$</span><span class="va">X</span>,</span>
<span>               start <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">first</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">TS</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span>,</span>
<span>               end <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">last</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">TS</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">station_metadata</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="10%">
<col width="50%">
<col width="8%">
<col width="9%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">CodeH3</th>
<th align="left">Name</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="left">start</th>
<th align="left">end</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A273011002</td>
<td align="left">La Bruche à Russ [Wisches]</td>
<td align="right">48.50507</td>
<td align="right">7.27510</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">A605102001</td>
<td align="left">La Meurthe à Saint-Dié-des-Vosges</td>
<td align="right">48.28472</td>
<td align="right">6.95606</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">B222001001</td>
<td align="left">La Meuse à Saint-Mihiel</td>
<td align="right">48.87090</td>
<td align="right">5.53099</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">E540031001</td>
<td align="left">La Canche à Brimeux</td>
<td align="right">50.44827</td>
<td align="right">1.83080</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">E645651001</td>
<td align="left">La Nièvre à l’Étoile</td>
<td align="right">50.00921</td>
<td align="right">2.04971</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">F439000101</td>
<td align="left">Le Loing à Épisy</td>
<td align="right">48.33755</td>
<td align="right">2.78710</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">H010002001</td>
<td align="left">La Seine à Plaines-Saint-Lange</td>
<td align="right">47.99599</td>
<td align="right">4.48061</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">H120101001</td>
<td align="left">L’Aube à Bar-sur-Aube</td>
<td align="right">48.21864</td>
<td align="right">4.73602</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">H622101001</td>
<td align="left">L’Aisne à Givry</td>
<td align="right">49.49201</td>
<td align="right">4.53770</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">J171171001</td>
<td align="left">Le Trieux à Saint-Péver - Pont Locminé</td>
<td align="right">48.48336</td>
<td align="right">-3.11467</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">J421191001</td>
<td align="left">L’Odet à Ergué-Gabéric - Treodet</td>
<td align="right">48.00625</td>
<td align="right">-4.06374</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">K134181001</td>
<td align="left">L’Arroux à Rigny-sur-Arroux</td>
<td align="right">46.53406</td>
<td align="right">4.03291</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">K265401001</td>
<td align="left">La Couze Pavin à Saint-Floret</td>
<td align="right">45.55077</td>
<td align="right">3.11012</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">K731261001</td>
<td align="left">L’Indre à Saint-Cyran-du-Jambot</td>
<td align="right">47.01712</td>
<td align="right">1.12650</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">V123521001</td>
<td align="left">L’Ire à Doussard</td>
<td align="right">45.78309</td>
<td align="right">6.22419</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">X031001001</td>
<td align="left">La Durance à Embrun [La Clapière] - DREAL PACA</td>
<td align="right">44.55218</td>
<td align="right">6.48784</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">X045401001</td>
<td align="left">L’Ubaye au Lauzet-Ubaye [Roche-Rousse] - DREAL
PACA</td>
<td align="right">44.45007</td>
<td align="right">6.40111</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="even">
<td align="left">Y643401001</td>
<td align="left">L’Esteron au Broc [La Clave]</td>
<td align="right">43.84653</td>
<td align="right">7.15666</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
<tr class="odd">
<td align="left">Y862000101</td>
<td align="left">Le Taravo à Zigliara [Pont d’Abra]</td>
<td align="right">41.80990</td>
<td align="right">8.95951</td>
<td align="left">1999-01-01</td>
<td align="left">2018-12-31</td>
</tr>
</tbody>
</table>
<p>We select randomly 3 stations for this vignette.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sel_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">station_ids</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">sel_ids</span></span>
<span><span class="co">#&gt; [1] "K265401001" "K134181001" "E645651001"</span></span></code></pre></div>
<p>And we concat and format the data of these three stations:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_ts</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">sel_ids</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span><span class="op">$</span><span class="va">TS</span></span>
<span>    <span class="va">df</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="va">id</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_ts</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">df_ts</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span> <span class="co"># Convert to date format</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_ts</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    21915 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;  $ Date: Date, format: "1999-01-01" "1999-01-02" ...</span></span>
<span><span class="co">#&gt;  $ Ptot: num  0.2 18.9 22.5 0.5 0 0 1.8 16.6 3.4 11.8 ...</span></span>
<span><span class="co">#&gt;  $ Temp: num  3.8 3.1 4.2 6.1 8.5 8.3 6.1 3 -0.6 -4 ...</span></span>
<span><span class="co">#&gt;  $ Evap: num  0.4 0.3 0.4 0.5 0.6 0.6 0.5 0.3 0.2 0 ...</span></span>
<span><span class="co">#&gt;  $ Qls : int  3120 3150 5380 6440 5330 4990 4640 5190 5460 4810 ...</span></span>
<span><span class="co">#&gt;  $ Qmmd: num  1.25 1.26 2.15 2.57 2.13 ...</span></span>
<span><span class="co">#&gt;  $ id  : chr  "K265401001" "K265401001" "K265401001" "K265401001" ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="statistical-indicators-for-temperatures">Statistical indicators for temperatures<a class="anchor" aria-label="anchor" href="#statistical-indicators-for-temperatures"></a>
</h2>
<p>We list all available indicators for temperature data.</p>
<p>We use the function <code><a href="../reference/CARD_list_all.html">CARD_list_all()</a></code> to get the complete
list of available indicators.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_all</span> <span class="op">=</span> <span class="fu"><a href="../reference/CARD_list_all.html">CARD_list_all</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">metaEX_all</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [565 × 22] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ CARD_name                   : chr [1:565] "ETPA" "BFI_Wal" "BFM" "delta{BFI}_LH_H1" ...</span></span>
<span><span class="co">#&gt;  $ variable_en                 : chr [1:565] "ETPA" "BFI_Wal" "BFM" "delta{BFI}_LH_H1" ...</span></span>
<span><span class="co">#&gt;  $ unit_en                     : chr [1:565] "mm" "without unit" "without unit" "without unit" ...</span></span>
<span><span class="co">#&gt;  $ name_en                     : chr [1:565] "Cumulative annual evapotranspiration" "Baseflow index" "Baseflow magnitude" "Change of baseflow index between the near horizon and historical period (Lyne and Hollick)" ...</span></span>
<span><span class="co">#&gt;  $ description_en              : chr [1:565] "" "Ratio between mean inter-annual base flow and mean inter-annual flow" "" "Ratio between mean inter-annual base flow and mean inter-annual flow" ...</span></span>
<span><span class="co">#&gt;  $ method_en                   : chr [1:565] "" "1. no temporal aggregation - extraction of the base flow (Wallingford)\n2. no temporal aggregation - calculatio"| __truncated__ "1. no temporal aggregation - extraction of the base flow (Wallingford)\n2. aggregation by day of the year - ave"| __truncated__ "1. no temporal aggregation - extraction of the base flow (Lyne and Hollick)\n2. no temporal aggregation - calcu"| __truncated__ ...</span></span>
<span><span class="co">#&gt;  $ sampling_period_en          : chr [1:565] "09-01, 08-31" NA NA NA ...</span></span>
<span><span class="co">#&gt;  $ topic_en                    : chr [1:565] "Evapotranspiration, Average, Intensity" "Flow, Base Flow, Intensity" "Flow, Base Flow, Intensity" "Flow, Base Flow, Intensity" ...</span></span>
<span><span class="co">#&gt;  $ variable_fr                 : chr [1:565] "ETPA" "BFI_Wal" "BFM" "delta{BFI}_LH_H1" ...</span></span>
<span><span class="co">#&gt;  $ unit_fr                     : chr [1:565] "mm" "sans unité" "sans unité" "sans unité" ...</span></span>
<span><span class="co">#&gt;  $ name_fr                     : chr [1:565] "Cumul des évapotranspirations annuelles" "Indice de débit de base" "Magnitude du débit de base" "Changement de l'indice de débit de base entre l'horizon proche et la période historique (Lyne et Hollick)" ...</span></span>
<span><span class="co">#&gt;  $ description_fr              : chr [1:565] "" "Rapport entre débit de base moyen inter-annuel et débit moyen inter-annuel" "" "Rapport entre débit de base moyen inter-annuel et débit moyen inter-annuel" ...</span></span>
<span><span class="co">#&gt;  $ method_fr                   : chr [1:565] "" "1. aucune agrégation temporelle - extraction du débit de base (Wallingford)\n2. aucune agrégation temporelle - calcul du BFI" "1. aucune agrégation temporelle - extraction du débit de base (Wallingford)\n2. agrégation par jour de l’année "| __truncated__ "1. aucune agrégation temporelle - extraction du débit de base (Lyne et Hollick)\n2. aucune agrégation temporell"| __truncated__ ...</span></span>
<span><span class="co">#&gt;  $ sampling_period_fr          : chr [1:565] "01-09, 31-08" NA NA NA ...</span></span>
<span><span class="co">#&gt;  $ topic_fr                    : chr [1:565] "Évapotranspiration, Moyenne, Intensité" "Débit, Débit de Base, Intensité" "Débit, Débit de Base, Intensité" "Débit, Débit de Base, Intensité" ...</span></span>
<span><span class="co">#&gt;  $ input_vars                  : chr [1:565] "ETP" "Q" "Q" "Q" ...</span></span>
<span><span class="co">#&gt;  $ source                      : chr [1:565] NA "TALLAKSEN, L. et H. VAN LANEN, éd. (2004). Hydrological drought. Processes and estimation methods for streamflo"| __truncated__ "TALLAKSEN, L. et H. VAN LANEN, éd. (2004). Hydrological drought. Processes and estimation methods for streamflo"| __truncated__ NA ...</span></span>
<span><span class="co">#&gt;  $ preferred_hydrological_month: int [1:565] NA NA NA NA NA NA NA NA NA 9 ...</span></span>
<span><span class="co">#&gt;  $ is_date                     : logi [1:565] FALSE FALSE FALSE FALSE FALSE FALSE ...</span></span>
<span><span class="co">#&gt;  $ to_normalise                : logi [1:565] FALSE FALSE FALSE FALSE FALSE FALSE ...</span></span>
<span><span class="co">#&gt;  $ palette                     : chr [1:565] "#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830" NA NA NA ...</span></span>
<span><span class="co">#&gt;  $ script_path                 : chr [1:565] "Evapotranspiration/ETPA.R" "Flow/Baseflow/criteria/BFI_Wal.R" "Flow/Baseflow/criteria/BFM.R" "Flow/Baseflow/criteria/delta{BFI}_LH_H.R" ...</span></span></code></pre></div>
<p>On which we can filter criteria on temperatures:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_temp</span> <span class="op">&lt;-</span> <span class="va">metaEX_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Temperature"</span>, <span class="va">topic_en</span><span class="op">)</span>,</span>
<span>         <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Sensitivity_to_Climate_Variability"</span>, <span class="va">script_path</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">metaEX_temp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"variable_en"</span>, <span class="st">"name_en"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="86%">
</colgroup>
<thead><tr class="header">
<th align="left">variable_en</th>
<th align="left">name_en</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">meanTA</td>
<td align="left">Average of annual average temperatures</td>
</tr>
<tr class="even">
<td align="left">meanTSA_DJF</td>
<td align="left">Average temperatures of each winter (months of
December, January and February)</td>
</tr>
<tr class="odd">
<td align="left">meanTSA_MAM</td>
<td align="left">Average temperatures of each spring (months of March,
April and May)</td>
</tr>
<tr class="even">
<td align="left">meanTSA_JJA</td>
<td align="left">Average temperatures of each summer (months of June,
July and August)</td>
</tr>
<tr class="odd">
<td align="left">meanTSA_SON</td>
<td align="left">Average temperatures of each fall (months of September,
October and November)</td>
</tr>
<tr class="even">
<td align="left">TA</td>
<td align="left">Annual mean temperature</td>
</tr>
<tr class="odd">
<td align="left">TMA_jan</td>
<td align="left">Average daily temperatures for each January</td>
</tr>
<tr class="even">
<td align="left">TMA_feb</td>
<td align="left">Average daily temperatures for each February</td>
</tr>
<tr class="odd">
<td align="left">TMA_mar</td>
<td align="left">Average daily temperatures for each March</td>
</tr>
<tr class="even">
<td align="left">TMA_apr</td>
<td align="left">Average daily temperatures for each April</td>
</tr>
<tr class="odd">
<td align="left">TMA_may</td>
<td align="left">Average daily temperatures for each May</td>
</tr>
<tr class="even">
<td align="left">TMA_jun</td>
<td align="left">Average daily temperatures for each June</td>
</tr>
<tr class="odd">
<td align="left">TMA_jul</td>
<td align="left">Average daily temperatures for each July</td>
</tr>
<tr class="even">
<td align="left">TMA_aug</td>
<td align="left">Average daily temperatures for each August</td>
</tr>
<tr class="odd">
<td align="left">TMA_sep</td>
<td align="left">Average daily temperatures for each September</td>
</tr>
<tr class="even">
<td align="left">TMA_oct</td>
<td align="left">Average daily temperatures for each October</td>
</tr>
<tr class="odd">
<td align="left">TMA_nov</td>
<td align="left">Average daily temperatures for each November</td>
</tr>
<tr class="even">
<td align="left">TMA_dec</td>
<td align="left">Average daily temperatures for each December</td>
</tr>
<tr class="odd">
<td align="left">TSA_DJF</td>
<td align="left">Annual winter temperatures</td>
</tr>
<tr class="even">
<td align="left">TSA_MAM</td>
<td align="left">Annual spring temperatures</td>
</tr>
<tr class="odd">
<td align="left">TSA_JJA</td>
<td align="left">Annual summer temperatures</td>
</tr>
<tr class="even">
<td align="left">TSA_SON</td>
<td align="left">Annual autumn temperatures</td>
</tr>
</tbody>
</table>
<p>Then, we format the data for the function
<code><a href="../reference/CARD_extraction.html">CARD_extraction()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_temp</span> <span class="op">&lt;-</span> <span class="va">df_ts</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"id"</span>, <span class="st">"Temp"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>T <span class="op">=</span> <span class="st">"Temp"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_temp</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    21915 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ Date: Date, format: "1999-01-01" "1999-01-02" ...</span></span>
<span><span class="co">#&gt;  $ id  : chr  "K265401001" "K265401001" "K265401001" "K265401001" ...</span></span>
<span><span class="co">#&gt;  $ T   : num  3.8 3.1 4.2 6.1 8.5 8.3 6.1 3 -0.6 -4 ...</span></span></code></pre></div>
<p>And run the extraction of indicators!</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CARD_extraction.html">CARD_extraction</a></span><span class="op">(</span></span>
<span>  <span class="va">df_temp</span>,</span>
<span>  CARD_name <span class="op">=</span> <span class="va">metaEX_temp</span><span class="op">$</span><span class="va">variable_en</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">res_temp</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ metaEX: tibble [2 × 19] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   ..$ variable_en       : chr [1:2] "meanTA" "TA"</span></span>
<span><span class="co">#&gt;   ..$ unit_en           : chr [1:2] "°C" "°C"</span></span>
<span><span class="co">#&gt;   ..$ name_en           : chr [1:2] "Average of annual average temperatures" "Annual mean temperature"</span></span>
<span><span class="co">#&gt;   ..$ description_en    : chr [1:2] "" ""</span></span>
<span><span class="co">#&gt;   ..$ method_en         : chr [1:2] "1. annual aggregation [09-01, 08-31] - mean\n2. no temporal aggregation - average" ""</span></span>
<span><span class="co">#&gt;   ..$ sampling_period_en: chr [1:2] "09-01, 08-31" "09-01, 08-31"</span></span>
<span><span class="co">#&gt;   ..$ topic_en          : chr [1:2] "Temperature, Average, Intensity" "Temperature, Average, Intensity"</span></span>
<span><span class="co">#&gt;   ..$ variable_fr       : chr [1:2] "moyTA" "TA"</span></span>
<span><span class="co">#&gt;   ..$ unit_fr           : chr [1:2] "°C" "°C"</span></span>
<span><span class="co">#&gt;   ..$ name_fr           : chr [1:2] "Moyenne des températures moyennes annuelles" "Température moyenne annuelle"</span></span>
<span><span class="co">#&gt;   ..$ description_fr    : chr [1:2] "" ""</span></span>
<span><span class="co">#&gt;   ..$ method_fr         : chr [1:2] "1. agrégation annuelle [01-09, 31-08] - moyenne\n2. aucune agrégation temporelle - moyenne" ""</span></span>
<span><span class="co">#&gt;   ..$ sampling_period_fr: chr [1:2] "01-09, 31-08" "01-09, 31-08"</span></span>
<span><span class="co">#&gt;   ..$ topic_fr          : chr [1:2] "Température, Moyenne, Intensité" "Température, Moyenne, Intensité"</span></span>
<span><span class="co">#&gt;   ..$ input_vars        : chr [1:2] "Q" "T"</span></span>
<span><span class="co">#&gt;   ..$ is_date           : logi [1:2] FALSE FALSE</span></span>
<span><span class="co">#&gt;   ..$ to_normalise      : logi [1:2] FALSE FALSE</span></span>
<span><span class="co">#&gt;   ..$ palette           : chr [1:2] "#053061 #2166AC #4393C3 #92C5DE #D1E5F0 #FDDBC7 #F4A582 #D6604D #B2182B #67001F" "#053061 #2166AC #4393C3 #92C5DE #D1E5F0 #FDDBC7 #F4A582 #D6604D #B2182B #67001F"</span></span>
<span><span class="co">#&gt;   ..$ script_path       : chr [1:2] "Temperature/meanTA.R" "Temperature/TA.R"</span></span>
<span><span class="co">#&gt;  $ dataEX:List of 2</span></span>
<span><span class="co">#&gt;   ..$ meanTA: tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id    : chr [1:3] "E645651001" "K134181001" "K265401001"</span></span>
<span><span class="co">#&gt;   .. ..$ meanTA: num [1:3] 10.51 10.28 7.83</span></span>
<span><span class="co">#&gt;   ..$ TA    : tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id  : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date: Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ TA  : num [1:63] NA 10.5 10.7 10.6 10.9 ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="statistical-indicators-for-potential-evapotranspiration">Statistical indicators for potential evapotranspiration<a class="anchor" aria-label="anchor" href="#statistical-indicators-for-potential-evapotranspiration"></a>
</h2>
<p>We select all criteria on evaporation except the one evolving
flow.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_evap</span> <span class="op">&lt;-</span> <span class="va">metaEX_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Evapotranspiration"</span>, <span class="va">topic_en</span><span class="op">)</span>,</span>
<span>         <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Flow"</span>, <span class="va">topic_en</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">metaEX_evap</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"variable_en"</span>, <span class="st">"name_en"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">variable_en</th>
<th align="left">name_en</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">ETPA</td>
<td align="left">Cumulative annual evapotranspiration</td>
</tr></tbody>
</table>
<p>Then, we format the data and run the function
<code><a href="../reference/CARD_extraction.html">CARD_extraction()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_evap</span> <span class="op">&lt;-</span> <span class="va">df_ts</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"id"</span>, <span class="st">"Evap"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>ETP <span class="op">=</span> <span class="st">"Evap"</span><span class="op">)</span> <span class="co"># R is the precipitation variable in the dataframe</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_evap</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    21915 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ Date: Date, format: "1999-01-01" "1999-01-02" ...</span></span>
<span><span class="co">#&gt;  $ id  : chr  "K265401001" "K265401001" "K265401001" "K265401001" ...</span></span>
<span><span class="co">#&gt;  $ ETP : num  0.4 0.3 0.4 0.5 0.6 0.6 0.5 0.3 0.2 0 ...</span></span>
<span><span class="va">res_evap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CARD_extraction.html">CARD_extraction</a></span><span class="op">(</span></span>
<span>  <span class="va">df_evap</span>,</span>
<span>  CARD_name <span class="op">=</span> <span class="va">metaEX_evap</span><span class="op">$</span><span class="va">variable_en</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">res_evap</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ metaEX: tibble [1 × 19] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   ..$ variable_en       : chr "ETPA"</span></span>
<span><span class="co">#&gt;   ..$ unit_en           : chr "mm"</span></span>
<span><span class="co">#&gt;   ..$ name_en           : chr "Cumulative annual evapotranspiration"</span></span>
<span><span class="co">#&gt;   ..$ description_en    : chr ""</span></span>
<span><span class="co">#&gt;   ..$ method_en         : chr ""</span></span>
<span><span class="co">#&gt;   ..$ sampling_period_en: chr "09-01, 08-31"</span></span>
<span><span class="co">#&gt;   ..$ topic_en          : chr "Evapotranspiration, Average, Intensity"</span></span>
<span><span class="co">#&gt;   ..$ variable_fr       : chr "ETPA"</span></span>
<span><span class="co">#&gt;   ..$ unit_fr           : chr "mm"</span></span>
<span><span class="co">#&gt;   ..$ name_fr           : chr "Cumul des évapotranspirations annuelles"</span></span>
<span><span class="co">#&gt;   ..$ description_fr    : chr ""</span></span>
<span><span class="co">#&gt;   ..$ method_fr         : chr ""</span></span>
<span><span class="co">#&gt;   ..$ sampling_period_fr: chr "01-09, 31-08"</span></span>
<span><span class="co">#&gt;   ..$ topic_fr          : chr "Évapotranspiration, Moyenne, Intensité"</span></span>
<span><span class="co">#&gt;   ..$ input_vars        : chr "ETP"</span></span>
<span><span class="co">#&gt;   ..$ is_date           : logi FALSE</span></span>
<span><span class="co">#&gt;   ..$ to_normalise      : logi FALSE</span></span>
<span><span class="co">#&gt;   ..$ palette           : chr "#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830"</span></span>
<span><span class="co">#&gt;   ..$ script_path       : chr "Evapotranspiration/ETPA.R"</span></span>
<span><span class="co">#&gt;  $ dataEX:List of 1</span></span>
<span><span class="co">#&gt;   ..$ ETPA: tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id  : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date: Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ ETPA: num [1:63] NA 651 655 650 683 ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="statistical-indicators-for-precipitations">Statistical indicators for precipitations<a class="anchor" aria-label="anchor" href="#statistical-indicators-for-precipitations"></a>
</h2>
<p>We select all criteria on precipitations except:</p>
<ul>
<li>criteria using flow,</li>
<li>criteria related to parametrization, sensitivity to climate
variability, or ratio</li>
<li>criteria related to liquid or solid precipitations</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_prec</span> <span class="op">&lt;-</span> <span class="va">metaEX_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Precipitation"</span>, <span class="va">topic_en</span><span class="op">)</span>,</span>
<span>         <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Flow|Parameterization|Sensitivity to Climate Variability|Ratio"</span>, <span class="va">topic_en</span><span class="op">)</span>,</span>
<span>         <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"liquid|solid|Annual precipitation"</span>, <span class="va">name_en</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">metaEX_prec</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"variable_en"</span>, <span class="st">"name_en"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="86%">
</colgroup>
<thead><tr class="header">
<th align="left">variable_en</th>
<th align="left">name_en</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">dtCDDA</td>
<td align="left">Maximum number of consecutive dry days in the year</td>
</tr>
<tr class="even">
<td align="left">dtCDDMA_jan</td>
<td align="left">Maximum number of consecutive dry days in each
January</td>
</tr>
<tr class="odd">
<td align="left">dtCDDMA_feb</td>
<td align="left">Maximum number of consecutive dry days in each
February</td>
</tr>
<tr class="even">
<td align="left">dtCDDMA_mar</td>
<td align="left">Maximum number of consecutive dry days in each
March</td>
</tr>
<tr class="odd">
<td align="left">dtCDDMA_apr</td>
<td align="left">Maximum number of consecutive dry days in each
April</td>
</tr>
<tr class="even">
<td align="left">dtCDDMA_may</td>
<td align="left">Maximum number of consecutive dry days in each May</td>
</tr>
<tr class="odd">
<td align="left">dtCDDMA_jun</td>
<td align="left">Maximum number of consecutive dry days in each
June</td>
</tr>
<tr class="even">
<td align="left">dtCDDMA_jul</td>
<td align="left">Maximum number of consecutive dry days in each
July</td>
</tr>
<tr class="odd">
<td align="left">dtCDDMA_aug</td>
<td align="left">Maximum number of consecutive dry days in each
August</td>
</tr>
<tr class="even">
<td align="left">dtCDDMA_sep</td>
<td align="left">Maximum number of consecutive dry days in each
September</td>
</tr>
<tr class="odd">
<td align="left">dtCDDMA_oct</td>
<td align="left">Maximum number of consecutive dry days in each
October</td>
</tr>
<tr class="even">
<td align="left">dtCDDMA_nov</td>
<td align="left">Maximum number of consecutive dry days in each
November</td>
</tr>
<tr class="odd">
<td align="left">dtCDDMA_dec</td>
<td align="left">Maximum number of consecutive dry days in each
December</td>
</tr>
<tr class="even">
<td align="left">dtCDDSA_DJF</td>
<td align="left">Maximum number of consecutive dry days in winter</td>
</tr>
<tr class="odd">
<td align="left">dtCDDSA_MAM</td>
<td align="left">Maximum number of consecutive dry days in spring</td>
</tr>
<tr class="even">
<td align="left">dtCDDSA_JJA</td>
<td align="left">Maximum number of consecutive dry days in summer</td>
</tr>
<tr class="odd">
<td align="left">dtCDDSA_SON</td>
<td align="left">Maximum number of consecutive dry days in autumn</td>
</tr>
<tr class="even">
<td align="left">dtCWDA</td>
<td align="left">Maximum number of consecutive rainy days in the
year</td>
</tr>
<tr class="odd">
<td align="left">dtCWDMA_jan</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dtCWDMA_feb</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dtCWDMA_mar</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dtCWDMA_apr</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dtCWDMA_may</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dtCWDMA_jun</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dtCWDMA_jul</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dtCWDMA_aug</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dtCWDMA_sep</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dtCWDMA_oct</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dtCWDMA_nov</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dtCWDMA_dec</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dtCWDSA_DJF</td>
<td align="left">Maximum number of consecutive rainy days in winter</td>
</tr>
<tr class="even">
<td align="left">dtCWDSA_MAM</td>
<td align="left">Maximum number of consecutive rainy days in spring</td>
</tr>
<tr class="odd">
<td align="left">dtCWDSA_JJA</td>
<td align="left">Maximum number of consecutive rainy days in summer</td>
</tr>
<tr class="even">
<td align="left">dtCWDSA_SON</td>
<td align="left">Maximum number of consecutive rainy days in autumn</td>
</tr>
<tr class="odd">
<td align="left">dtRA01mm</td>
<td align="left">Number of rainy days in the year</td>
</tr>
<tr class="even">
<td align="left">dtRA20mm</td>
<td align="left">Number of heavy rain days in the year</td>
</tr>
<tr class="odd">
<td align="left">dtRA50mm</td>
<td align="left">Number of extreme rain days in the year</td>
</tr>
<tr class="even">
<td align="left">dtRMA01mm_jan</td>
<td align="left">Number of rainy days of each January</td>
</tr>
<tr class="odd">
<td align="left">dtRMA01mm_feb</td>
<td align="left">Number of rainy days of each February</td>
</tr>
<tr class="even">
<td align="left">dtRMA01mm_mar</td>
<td align="left">Number of rainy days of each March</td>
</tr>
<tr class="odd">
<td align="left">dtRMA01mm_apr</td>
<td align="left">Number of rainy days of each April</td>
</tr>
<tr class="even">
<td align="left">dtRMA01mm_may</td>
<td align="left">Number of rainy days of each May</td>
</tr>
<tr class="odd">
<td align="left">dtRMA01mm_jun</td>
<td align="left">Number of rainy days of each June</td>
</tr>
<tr class="even">
<td align="left">dtRMA01mm_jul</td>
<td align="left">Number of rainy days of each July</td>
</tr>
<tr class="odd">
<td align="left">dtRMA01mm_aug</td>
<td align="left">Number of rainy days of each August</td>
</tr>
<tr class="even">
<td align="left">dtRMA01mm_sep</td>
<td align="left">Number of rainy days of each September</td>
</tr>
<tr class="odd">
<td align="left">dtRMA01mm_oct</td>
<td align="left">Number of rainy days of each October</td>
</tr>
<tr class="even">
<td align="left">dtRMA01mm_nov</td>
<td align="left">Number of rainy days of each November</td>
</tr>
<tr class="odd">
<td align="left">dtRMA01mm_dec</td>
<td align="left">Number of rainy days of each December</td>
</tr>
<tr class="even">
<td align="left">dtRMA20mm_jan</td>
<td align="left">Number of heavy rain days for each January</td>
</tr>
<tr class="odd">
<td align="left">dtRMA20mm_feb</td>
<td align="left">Number of heavy rain days for each February</td>
</tr>
<tr class="even">
<td align="left">dtRMA20mm_mar</td>
<td align="left">Number of heavy rain days for each March</td>
</tr>
<tr class="odd">
<td align="left">dtRMA20mm_apr</td>
<td align="left">Number of heavy rain days for each April</td>
</tr>
<tr class="even">
<td align="left">dtRMA20mm_may</td>
<td align="left">Number of heavy rain days for each May</td>
</tr>
<tr class="odd">
<td align="left">dtRMA20mm_jun</td>
<td align="left">Number of heavy rain days for each June</td>
</tr>
<tr class="even">
<td align="left">dtRMA20mm_jul</td>
<td align="left">Number of heavy rain days for each July</td>
</tr>
<tr class="odd">
<td align="left">dtRMA20mm_aug</td>
<td align="left">Number of heavy rain days for each August</td>
</tr>
<tr class="even">
<td align="left">dtRMA20mm_sep</td>
<td align="left">Number of heavy rain days for each September</td>
</tr>
<tr class="odd">
<td align="left">dtRMA20mm_oct</td>
<td align="left">Number of heavy rain days for each October</td>
</tr>
<tr class="even">
<td align="left">dtRMA20mm_nov</td>
<td align="left">Number of heavy rain days for each November</td>
</tr>
<tr class="odd">
<td align="left">dtRMA20mm_dec</td>
<td align="left">Number of heavy rain days for each December</td>
</tr>
<tr class="even">
<td align="left">dtRMA50mm_jan</td>
<td align="left">Number of extreme rain days for each January</td>
</tr>
<tr class="odd">
<td align="left">dtRMA50mm_feb</td>
<td align="left">Number of extreme rain days for each February</td>
</tr>
<tr class="even">
<td align="left">dtRMA50mm_mar</td>
<td align="left">Number of extreme rain days for each March</td>
</tr>
<tr class="odd">
<td align="left">dtRMA50mm_apr</td>
<td align="left">Number of extreme rain days for each April</td>
</tr>
<tr class="even">
<td align="left">dtRMA50mm_may</td>
<td align="left">Number of extreme rain days for each May</td>
</tr>
<tr class="odd">
<td align="left">dtRMA50mm_jun</td>
<td align="left">Number of extreme rain days for each June</td>
</tr>
<tr class="even">
<td align="left">dtRMA50mm_jul</td>
<td align="left">Number of extreme rain days for each July</td>
</tr>
<tr class="odd">
<td align="left">dtRMA50mm_aug</td>
<td align="left">Number of extreme rain days for each August</td>
</tr>
<tr class="even">
<td align="left">dtRMA50mm_sep</td>
<td align="left">Number of extreme rain days for each September</td>
</tr>
<tr class="odd">
<td align="left">dtRMA50mm_oct</td>
<td align="left">Number of extreme rain days for each October</td>
</tr>
<tr class="even">
<td align="left">dtRMA50mm_nov</td>
<td align="left">Number of extreme rain days for each November</td>
</tr>
<tr class="odd">
<td align="left">dtRMA50mm_dec</td>
<td align="left">Number of extreme rain days for each December</td>
</tr>
<tr class="even">
<td align="left">dtRSA01mm_DJF</td>
<td align="left">Number of rainy days in winter</td>
</tr>
<tr class="odd">
<td align="left">dtRSA01mm_MAM</td>
<td align="left">Number of rainy days in spring</td>
</tr>
<tr class="even">
<td align="left">dtRSA01mm_JJA</td>
<td align="left">Number of rainy days in summer</td>
</tr>
<tr class="odd">
<td align="left">dtRSA01mm_SON</td>
<td align="left">Number of rainy days in autumn</td>
</tr>
<tr class="even">
<td align="left">dtRSA20mm_DJF</td>
<td align="left">Number of heavy rain days in winter</td>
</tr>
<tr class="odd">
<td align="left">dtRSA20mm_MAM</td>
<td align="left">Number of heavy rain days in spring</td>
</tr>
<tr class="even">
<td align="left">dtRSA20mm_JJA</td>
<td align="left">Number of heavy rain days in summer</td>
</tr>
<tr class="odd">
<td align="left">dtRSA20mm_SON</td>
<td align="left">Number of heavy rain days in autumn</td>
</tr>
<tr class="even">
<td align="left">dtRSA50mm_DJF</td>
<td align="left">Number of extreme rain days in winter</td>
</tr>
<tr class="odd">
<td align="left">dtRSA50mm_MAM</td>
<td align="left">Number of extreme rain days in spring</td>
</tr>
<tr class="even">
<td align="left">dtRSA50mm_JJA</td>
<td align="left">Number of extreme rain days in summer</td>
</tr>
<tr class="odd">
<td align="left">dtRSA50mm_SON</td>
<td align="left">Number of extreme rain days in autumn</td>
</tr>
<tr class="even">
<td align="left">meanRA</td>
<td align="left">Mean of annual total precipitation accumulations</td>
</tr>
<tr class="odd">
<td align="left">meanRA_DJF</td>
<td align="left">Average total precipitations of each winter (months of
December, January and February)</td>
</tr>
<tr class="even">
<td align="left">meanRA_MAM</td>
<td align="left">Average total precipitations of each spring (months of
March, April and May)</td>
</tr>
<tr class="odd">
<td align="left">meanRA_JJA</td>
<td align="left">Average total precipitations of each summer (months of
June, July and August)</td>
</tr>
<tr class="even">
<td align="left">meanRA_SON</td>
<td align="left">Average total precipitations of each fall (months of
September, October and November)</td>
</tr>
<tr class="odd">
<td align="left">RCXA1</td>
<td align="left">Annual maximum of daily precipitation</td>
</tr>
<tr class="even">
<td align="left">RCXA5</td>
<td align="left">Annual maximum of 5-day cumulative daily
precipitation</td>
</tr>
<tr class="odd">
<td align="left">RMA_jan</td>
<td align="left">Cumulative daily precipitation for each January</td>
</tr>
<tr class="even">
<td align="left">RMA_feb</td>
<td align="left">Cumulative daily precipitation for each February</td>
</tr>
<tr class="odd">
<td align="left">RMA_mar</td>
<td align="left">Cumulative daily precipitation for each March</td>
</tr>
<tr class="even">
<td align="left">RMA_apr</td>
<td align="left">Cumulative daily precipitation for each April</td>
</tr>
<tr class="odd">
<td align="left">RMA_may</td>
<td align="left">Cumulative daily precipitation for each May</td>
</tr>
<tr class="even">
<td align="left">RMA_jun</td>
<td align="left">Cumulative daily precipitation for each June</td>
</tr>
<tr class="odd">
<td align="left">RMA_jul</td>
<td align="left">Cumulative daily precipitation for each July</td>
</tr>
<tr class="even">
<td align="left">RMA_aug</td>
<td align="left">Cumulative daily precipitation for each August</td>
</tr>
<tr class="odd">
<td align="left">RMA_sep</td>
<td align="left">Cumulative daily precipitation for each September</td>
</tr>
<tr class="even">
<td align="left">RMA_oct</td>
<td align="left">Cumulative daily precipitation for each October</td>
</tr>
<tr class="odd">
<td align="left">RMA_nov</td>
<td align="left">Cumulative daily precipitation for each November</td>
</tr>
<tr class="even">
<td align="left">RMA_dec</td>
<td align="left">Cumulative daily precipitation for each December</td>
</tr>
<tr class="odd">
<td align="left">RSA_DJF</td>
<td align="left">Cumulative daily precipitation of each winter</td>
</tr>
<tr class="even">
<td align="left">RSA_MAM</td>
<td align="left">Cumulative daily precipitation of each spring</td>
</tr>
<tr class="odd">
<td align="left">RSA_JJA</td>
<td align="left">Cumulative daily precipitation of each summer</td>
</tr>
<tr class="even">
<td align="left">RSA_SON</td>
<td align="left">Cumulative daily precipitation of each autumn</td>
</tr>
</tbody>
</table>
<p>Then, we format the data and run the function
<code><a href="../reference/CARD_extraction.html">CARD_extraction()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_prec</span> <span class="op">&lt;-</span> <span class="va">df_ts</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"id"</span>, <span class="st">"Ptot"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>R <span class="op">=</span> <span class="st">"Ptot"</span><span class="op">)</span> <span class="co"># R is the precipitation variable in the dataframe</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_prec</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    21915 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ Date: Date, format: "1999-01-01" "1999-01-02" ...</span></span>
<span><span class="co">#&gt;  $ id  : chr  "K265401001" "K265401001" "K265401001" "K265401001" ...</span></span>
<span><span class="co">#&gt;  $ R   : num  0.2 18.9 22.5 0.5 0 0 1.8 16.6 3.4 11.8 ...</span></span>
<span><span class="va">res_prec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CARD_extraction.html">CARD_extraction</a></span><span class="op">(</span></span>
<span>  <span class="va">df_prec</span>,</span>
<span>  CARD_name <span class="op">=</span> <span class="va">metaEX_prec</span><span class="op">$</span><span class="va">variable_en</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">res_prec</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 2</span></span>
<span><span class="co">#&gt;  $ metaEX: tibble [7 × 19] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   ..$ variable_en       : chr [1:7] "dtCDDA" "dtCWDA" "dtRA01mm" "dtRA20mm" ...</span></span>
<span><span class="co">#&gt;   ..$ unit_en           : chr [1:7] "day" "day" "day" "day" ...</span></span>
<span><span class="co">#&gt;   ..$ name_en           : chr [1:7] "Maximum number of consecutive dry days in the year" "Maximum number of consecutive rainy days in the year" "Number of rainy days in the year" "Number of heavy rain days in the year" ...</span></span>
<span><span class="co">#&gt;   ..$ description_en    : chr [1:7] "Maximum number of consecutive days in the year with less than 1 mm of precipitation" "Maximum number of consecutive days in the year with at least 1 mm of precipitation" "Number of days with at least 1 mm of precipitation" "Number of days with at least 20 mm of precipitation" ...</span></span>
<span><span class="co">#&gt;   ..$ method_en         : chr [1:7] "" "" "" "" ...</span></span>
<span><span class="co">#&gt;   ..$ sampling_period_en: chr [1:7] "09-01, 08-31" "09-01, 08-31" "09-01, 08-31" "09-01, 08-31" ...</span></span>
<span><span class="co">#&gt;   ..$ topic_en          : chr [1:7] "Precipitations, Dry Period, Duration" "Precipitations, Low, Duration" "Precipitations, Low, Duration" "Precipitations, Heavy, Duration" ...</span></span>
<span><span class="co">#&gt;   ..$ variable_fr       : chr [1:7] "dtCDDA" "dtCWDA" "dtRA01mm" "dtRA20mm" ...</span></span>
<span><span class="co">#&gt;   ..$ unit_fr           : chr [1:7] "jour" "jour" "jour" "jour" ...</span></span>
<span><span class="co">#&gt;   ..$ name_fr           : chr [1:7] "Nombre maximal de jours secs consécutifs dans l'année" "Nombre maximal de jours pluvieux consécutifs dans l'année" "Nombre de jours pluvieux dans l'année" "Nombre de jours de forte pluie dans l'année" ...</span></span>
<span><span class="co">#&gt;   ..$ description_fr    : chr [1:7] "Nombre maximal de jours consécutifs dans l'année avec moins de 1 mm de précipitation" "Nombre maximal de jours consécutifs dans l'année avec au moins 1 mm de précipitation" "Nombre de jours avec au moins 1 mm de précipitations" "Nombre de jours avec au moins 20 mm de précipitations" ...</span></span>
<span><span class="co">#&gt;   ..$ method_fr         : chr [1:7] "" "" "" "" ...</span></span>
<span><span class="co">#&gt;   ..$ sampling_period_fr: chr [1:7] "01-09, 31-08" "01-09, 31-08" "01-09, 31-08" "01-09, 31-08" ...</span></span>
<span><span class="co">#&gt;   ..$ topic_fr          : chr [1:7] "Précipitations, Période sèche, Durée" "Précipitations, Faibles, Durée" "Précipitations, Faible, Durée" "Précipitations, Forte, Durée" ...</span></span>
<span><span class="co">#&gt;   ..$ input_vars        : chr [1:7] "R" "R" "R" "R" ...</span></span>
<span><span class="co">#&gt;   ..$ is_date           : logi [1:7] FALSE FALSE FALSE FALSE FALSE FALSE ...</span></span>
<span><span class="co">#&gt;   ..$ to_normalise      : logi [1:7] FALSE FALSE FALSE FALSE FALSE FALSE ...</span></span>
<span><span class="co">#&gt;   ..$ palette           : chr [1:7] "#003C30 #01665E #35978F #80CDC1 #C7EAE5 #F6E8C3 #DFC27D #BF812D #8C510A #543005" "#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830" "#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830" "#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830" ...</span></span>
<span><span class="co">#&gt;   ..$ script_path       : chr [1:7] "Precipitations/dtCDDA.R" "Precipitations/dtCWDA.R" "Precipitations/dtRA01mm.R" "Precipitations/dtRA20mm.R" ...</span></span>
<span><span class="co">#&gt;  $ dataEX:List of 7</span></span>
<span><span class="co">#&gt;   ..$ dtCDDA  : tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id    : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date  : Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ dtCDDA: int [1:63] NA 12 17 27 18 19 17 17 27 19 ...</span></span>
<span><span class="co">#&gt;   ..$ dtCWDA  : tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id    : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date  : Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ dtCWDA: int [1:63] NA 16 13 11 11 9 6 17 10 9 ...</span></span>
<span><span class="co">#&gt;   ..$ dtRA01mm: tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id      : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date    : Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ dtRA01mm: int [1:63] NA 168 181 162 121 132 135 149 161 142 ...</span></span>
<span><span class="co">#&gt;   ..$ dtRA20mm: tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id      : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date    : Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ dtRA20mm: int [1:63] NA 4 5 3 4 NA 2 3 1 7 ...</span></span>
<span><span class="co">#&gt;   ..$ dtRA50mm: tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id      : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date    : Date[1:63], format: "1998-09-01" "1999-09-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ dtRA50mm: int [1:63] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..$ RCXA1   : tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id   : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date : Date[1:63], format: "1998-04-01" "1999-04-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ RCXA1: num [1:63] NA 28.5 32.5 30.2 25.1 20.5 22.6 49.2 25.1 31.1 ...</span></span>
<span><span class="co">#&gt;   ..$ RCXA5   : tibble [63 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;   .. ..$ id   : chr [1:63] "E645651001" "E645651001" "E645651001" "E645651001" ...</span></span>
<span><span class="co">#&gt;   .. ..$ Date : Date[1:63], format: "1998-04-01" "1999-04-01" ...</span></span>
<span><span class="co">#&gt;   .. ..$ RCXA5: num [1:63] NA 80 70.6 54.1 64.7 49.4 38.4 85.5 60.4 60.5 ...</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Louis Héraut.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
