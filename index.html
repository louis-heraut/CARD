<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>CARD • CARD</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CARD">
<meta name="description" content="Card of Analyse and Diagnostic in R for a user-friendly experience of data aggregation with EXstat.">
<meta property="og:description" content="Card of Analyse and Diagnostic in R for a user-friendly experience of data aggregation with EXstat.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">CARD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/V01-climatic_indicators.html">Calculation of climatic indicators</a></li>
    <li><a class="dropdown-item" href="articles/V02-hydrological_indicators.html">Calculation of hydrological indicators</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="card-">CARD <a href="https://github.com/louis-heraut/EXstat/" class="external-link"><img src="figures/flower_alt_hex.png" align="right" width="160" height="160" alt=""></a>
<a class="anchor" aria-label="anchor" href="#card-"></a>
</h1></div>
<!-- badges: start -->

<p><strong>CARD</strong> is an efficient and user-friendly solution for aggregating daily hydroclimatological time series data in R, made possible through the use of parameterization files.</p>
<p>More precisely, this package aims at regroup all relevant aggregated hydroclimatological variable procedures into a CARD and serves as an interface to the core aggregation process carried out by the <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a> package.</p>
<p>This project was carried out for National Research Institute for Agriculture, Food and the Environment (Institut National de Recherche pour l’Agriculture, l’Alimentation et l’Environnement, <a href="https://agriculture.gouv.fr/inrae-linstitut-national-de-recherche-pour-lagriculture-lalimentation-et-lenvironnement" class="external-link">INRAE</a> in french) and is at the core of <a href="https://github.com/louis-heraut/MAKAHO" class="external-link">MAKAHO</a> which won the <a href="https://www.enseignementsup-recherche.gouv.fr/fr/remise-des-prix-science-ouverte-des-donnees-de-la-recherche-2024-98045" class="external-link">2024 Open Science Research Data Award</a> in the “Creating the Conditions for Reuse” category.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>For latest development version in R</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"louis-heraut/CARD"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="how-to-use-card-">How to use CARD ?<a class="anchor" aria-label="anchor" href="#how-to-use-card-"></a>
</h2>
<p>For a more user-friendly aggregation process, this package regroup predefined parameterisation files called CARD. Each CARD represent one hydroclimatological aggregated variable.</p>
<p>That way you don’t have to define complex parameters yourself to extract hydroclimatological variables. What’s more, if the CARD you want doesn’t exist, it’s easy to <a href="">create one</a> based on the others.</p>
<div class="section level3">
<h3 id="basic-workflow">Basic workflow<a class="anchor" aria-label="anchor" href="#basic-workflow"></a>
</h3>
<p>For example, in hydrology, if you want to extract the annual mean daily discharge QA from hydrometric data</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"airGRdatasets"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="fu">airGRdatasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/airGRdatasets/man/lumped_daily.html" class="external-link">A273011002</a></span><span class="op">$</span><span class="va">TS</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>code<span class="op">=</span><span class="st">"A273011002"</span>,</span>
<span>           Date<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Q<span class="op">=</span><span class="va">Qls</span><span class="op">)</span></span></code></pre></div>
<p>you can simply run</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="reference/CARD_extraction.html">CARD_extraction</a></span><span class="op">(</span><span class="va">data</span>, CARD_name<span class="op">=</span><span class="st">"QA"</span><span class="op">)</span></span></code></pre></div>
<p>which will return</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="sc">&gt;</span> res</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="sc">$</span>metaEX</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># A tibble: 1 × 19</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  variable_en unit_en      name_en description_en method_en sampling_period_en</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>             </span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="dv">1</span> QA          m<span class="sc">^</span>{<span class="dv">3</span>}.s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>} Annual… <span class="st">""</span>             <span class="fl">1.</span> annua… <span class="dv">09-01</span>, <span class="dv">08-31</span>      </span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># ℹ 13 more variables: topic_en &lt;chr&gt;, variable_fr &lt;chr&gt;, unit_fr &lt;chr&gt;,</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#   name_fr &lt;chr&gt;, description_fr &lt;chr&gt;, method_fr &lt;chr&gt;,</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#   sampling_period_fr &lt;chr&gt;, topic_fr &lt;chr&gt;,</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#   preferred_hydrological_month &lt;dbl&gt;, is_date &lt;lgl&gt;, to_normalise &lt;lgl&gt;,</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#   palette &lt;chr&gt;, script_path &lt;chr&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="sc">$</span>dataEX</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="sc">$</span>dataEX<span class="sc">$</span>QA</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co"># A tibble: 21 × 3</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>   code       Date          QA</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>date<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a> <span class="dv">1</span> A273011002 <span class="dv">1998-09-01</span>   <span class="cn">NA</span> </span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a> <span class="dv">2</span> A273011002 <span class="dv">1999-09-01</span> <span class="fl">7048.</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a> <span class="dv">3</span> A273011002 <span class="dv">2000-09-01</span> <span class="fl">6409.</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a> <span class="dv">4</span> A273011002 <span class="dv">2001-09-01</span> <span class="fl">6403.</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a> <span class="dv">5</span> A273011002 <span class="dv">2002-09-01</span> <span class="fl">4850.</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a> <span class="dv">6</span> A273011002 <span class="dv">2003-09-01</span> <span class="fl">3768.</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a> <span class="dv">7</span> A273011002 <span class="dv">2004-09-01</span> <span class="fl">5044.</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a> <span class="dv">8</span> A273011002 <span class="dv">2005-09-01</span> <span class="fl">4805.</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a> <span class="dv">9</span> A273011002 <span class="dv">2006-09-01</span> <span class="fl">7095.</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="dv">10</span> A273011002 <span class="dv">2007-09-01</span> <span class="fl">5575.</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="co"># ℹ 11 more rows</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<p>So the result is a list of the metadata of the extraction in the <code>metaEX</code> tibble and the result of the extraction in the <code>dataEX</code> tibble.</p>
<p>Many CARDs are available. If you want to have a look of every current possibilities, use the <code><a href="reference/CARD_list_all.html">CARD_list_all()</a></code> function</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_all</span> <span class="op">=</span> <span class="fu"><a href="reference/CARD_list_all.html">CARD_list_all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>which gives</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="sc">&gt;</span> metaEX_all</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># A tibble: 565 × 20</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>   variable_en     unit_en name_en description_en method_en sampling_period_en</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>           <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>             </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a> <span class="dv">1</span> ETPA            mm      Cumula… <span class="st">""</span>             <span class="st">""</span>        <span class="dv">09-01</span>, <span class="dv">08-31</span>      </span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a> <span class="dv">2</span> BFI_Wal         withou… Basefl… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a> <span class="dv">3</span> BFM             withou… Basefl… <span class="st">""</span>             <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a> <span class="dv">4</span> delta{BFI}_LH_… withou… Change… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a> <span class="dv">5</span> delta{BFI}_LH_… withou… Change… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a> <span class="dv">6</span> delta{BFI}_LH_… withou… Change… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a> <span class="dv">7</span> delta{BFI}_Wal… withou… Change… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a> <span class="dv">8</span> delta{BFI}_Wal… withou… Change… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a> <span class="dv">9</span> delta{BFI}_Wal… withou… Change… <span class="st">"Ratio betwe…"</span> <span class="st">"1. no …"</span> <span class="cn">NA</span>                </span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="dv">10</span> delta{centerBF… day     Averag… <span class="st">"Date when 5…"</span> <span class="st">"1. ann…"</span> <span class="dv">09-01</span>, <span class="dv">08-31</span>      </span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="co"># ℹ 555 more rows</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="co"># ℹ 14 more variables: topic_en &lt;chr&gt;, variable_fr &lt;chr&gt;, unit_fr &lt;chr&gt;,</span></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="co">#   name_fr &lt;chr&gt;, description_fr &lt;chr&gt;, method_fr &lt;chr&gt;,</span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="co">#   sampling_period_fr &lt;chr&gt;, topic_fr &lt;chr&gt;, source &lt;chr&gt;,</span></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="co">#   preferred_hydrological_month &lt;int&gt;, is_date &lt;lgl&gt;, to_normalise &lt;lgl&gt;,</span></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a><span class="co">#   palette &lt;chr&gt;, script_path &lt;chr&gt;</span></span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<p>Based on that, you can for example filter variables by their topic with</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_low_flow</span> <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">metaEX_all</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Low Flow"</span>, <span class="va">topic_en</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>and get the name of all those available CARDs with</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metaEX_low_flow</span><span class="op">$</span><span class="va">variable_en</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="complex-workflow">Complex workflow<a class="anchor" aria-label="anchor" href="#complex-workflow"></a>
</h3>
<p>In a similar, more complex way, you can extract multiple variables at a time with more than one discharge series,</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For one station</span></span>
<span><span class="va">data1</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="fu">airGRdatasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/airGRdatasets/man/lumped_daily.html" class="external-link">A273011002</a></span><span class="op">$</span><span class="va">TS</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>code<span class="op">=</span><span class="st">"A273011002"</span>,</span>
<span>           Date<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Q_obs<span class="op">=</span><span class="va">Qls</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># and an other</span></span>
<span><span class="va">data2</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="fu">airGRdatasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/airGRdatasets/man/lumped_daily.html" class="external-link">H622101001</a></span><span class="op">$</span><span class="va">TS</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>code<span class="op">=</span><span class="st">"H622101001"</span>,</span>
<span>           Date<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Q_obs<span class="op">=</span><span class="va">Qls</span><span class="op">)</span></span>
<span><span class="co"># make one tibble</span></span>
<span><span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add some noise for mock simulation data</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">Q_sim</span> <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">Q_obs</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, mean<span class="op">=</span><span class="fl">0</span>, sd<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># and perfom an extraction</span></span>
<span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="reference/CARD_extraction.html">CARD_extraction</a></span><span class="op">(</span><span class="va">data</span>,</span>
<span>                      CARD_name<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QA"</span>, <span class="st">"QMNA"</span>, <span class="st">"VCN10-5"</span><span class="op">)</span>,</span>
<span>                      suffix<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"obs"</span>, <span class="st">"sim"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>which will return</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="sc">&gt;</span> res</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="sc">$</span>metaEX</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="co"># A tibble: 3 × 19</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  variable_en unit_en      name_en description_en method_en sampling_period_en</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span>             </span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="dv">1</span> VCN10<span class="dv">-5</span>     m<span class="sc">^</span>{<span class="dv">3</span>}.s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>} Annual… <span class="st">""</span>             <span class="st">"1. no t…"</span> <span class="st">"Month of maximum …"</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="dv">2</span> QMNA        m<span class="sc">^</span>{<span class="dv">3</span>}.s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>} Annual… <span class="st">""</span>             <span class="st">"1. mont…"</span> <span class="st">"Month of maximum …"</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="dv">3</span> QA          m<span class="sc">^</span>{<span class="dv">3</span>}.s<span class="sc">^</span>{<span class="sc">-</span><span class="dv">1</span>} Annual… <span class="st">""</span>             <span class="st">"1. annu…"</span> <span class="dv">09-01</span>, <span class="dv">08-31</span>      </span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co"># ℹ 13 more variables: topic_en &lt;chr&gt;, variable_fr &lt;chr&gt;, unit_fr &lt;chr&gt;,</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="co">#   name_fr &lt;chr&gt;, description_fr &lt;chr&gt;, method_fr &lt;chr&gt;,</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="co">#   sampling_period_fr &lt;chr&gt;, topic_fr &lt;chr&gt;,</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="co">#   preferred_hydrological_month &lt;dbl&gt;, is_date &lt;lgl&gt;, to_normalise &lt;lgl&gt;,</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="co">#   script_path &lt;chr&gt;, palette &lt;chr&gt;</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="sc">$</span>dataEX</span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="sc">$</span>dataEX<span class="sc">$</span><span class="st">`</span><span class="at">VCN10-5</span><span class="st">`</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="co"># A tibble: 2 × 3</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>  code       <span class="st">`</span><span class="at">VCN10-5_obs</span><span class="st">`</span> <span class="st">`</span><span class="at">VCN10-5_sim</span><span class="st">`</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>              <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>         <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="dv">1</span> A273011002          <span class="fl">914.</span>          <span class="fl">901.</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a><span class="dv">2</span> H622101001         <span class="fl">2770.</span>         <span class="fl">2769.</span></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a><span class="sc">$</span>dataEX<span class="sc">$</span>QMNA</span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a><span class="co"># A tibble: 40 × 4</span></span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a>   code       Date       QMNA_obs QMNA_sim</span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>date<span class="sc">&gt;</span>        <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>    <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a> <span class="dv">1</span> A273011002 <span class="dv">1999-01-01</span>    <span class="fl">1050.</span>    <span class="fl">1070.</span></span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a> <span class="dv">2</span> A273011002 <span class="dv">2000-01-01</span>    <span class="fl">2586.</span>    <span class="fl">2569.</span></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a> <span class="dv">3</span> A273011002 <span class="dv">2001-01-01</span>    <span class="fl">1401.</span>    <span class="fl">1408.</span></span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a> <span class="dv">4</span> A273011002 <span class="dv">2002-01-01</span>    <span class="fl">1463.</span>    <span class="fl">1454.</span></span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a> <span class="dv">5</span> A273011002 <span class="dv">2003-01-01</span>    <span class="fl">1182.</span>    <span class="fl">1167.</span></span>
<span id="cb10-32"><a href="#cb10-32" tabindex="-1"></a> <span class="dv">6</span> A273011002 <span class="dv">2004-01-01</span>    <span class="fl">1362.</span>    <span class="fl">1354.</span></span>
<span id="cb10-33"><a href="#cb10-33" tabindex="-1"></a> <span class="dv">7</span> A273011002 <span class="dv">2005-01-01</span>    <span class="fl">1245.</span>    <span class="fl">1264.</span></span>
<span id="cb10-34"><a href="#cb10-34" tabindex="-1"></a> <span class="dv">8</span> A273011002 <span class="dv">2006-01-01</span>    <span class="dv">1770</span>     <span class="fl">1778.</span></span>
<span id="cb10-35"><a href="#cb10-35" tabindex="-1"></a> <span class="dv">9</span> A273011002 <span class="dv">2007-01-01</span>    <span class="fl">1889.</span>    <span class="fl">1875.</span></span>
<span id="cb10-36"><a href="#cb10-36" tabindex="-1"></a><span class="dv">10</span> A273011002 <span class="dv">2008-01-01</span>    <span class="fl">1669.</span>    <span class="fl">1659.</span></span>
<span id="cb10-37"><a href="#cb10-37" tabindex="-1"></a><span class="co"># ℹ 30 more rows</span></span>
<span id="cb10-38"><a href="#cb10-38" tabindex="-1"></a><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span>
<span id="cb10-39"><a href="#cb10-39" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" tabindex="-1"></a><span class="sc">$</span>dataEX<span class="sc">$</span>QA</span>
<span id="cb10-41"><a href="#cb10-41" tabindex="-1"></a><span class="co"># A tibble: 42 × 4</span></span>
<span id="cb10-42"><a href="#cb10-42" tabindex="-1"></a>   code       Date       QA_obs QA_sim</span>
<span id="cb10-43"><a href="#cb10-43" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>date<span class="sc">&gt;</span>      <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>  <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb10-44"><a href="#cb10-44" tabindex="-1"></a> <span class="dv">1</span> A273011002 <span class="dv">1998-09-01</span>    <span class="cn">NA</span>     <span class="cn">NA</span> </span>
<span id="cb10-45"><a href="#cb10-45" tabindex="-1"></a> <span class="dv">2</span> A273011002 <span class="dv">1999-09-01</span>  <span class="fl">7048.</span>  <span class="fl">7049.</span></span>
<span id="cb10-46"><a href="#cb10-46" tabindex="-1"></a> <span class="dv">3</span> A273011002 <span class="dv">2000-09-01</span>  <span class="fl">6409.</span>  <span class="fl">6419.</span></span>
<span id="cb10-47"><a href="#cb10-47" tabindex="-1"></a> <span class="dv">4</span> A273011002 <span class="dv">2001-09-01</span>  <span class="fl">6403.</span>  <span class="fl">6407.</span></span>
<span id="cb10-48"><a href="#cb10-48" tabindex="-1"></a> <span class="dv">5</span> A273011002 <span class="dv">2002-09-01</span>  <span class="fl">4850.</span>  <span class="fl">4842.</span></span>
<span id="cb10-49"><a href="#cb10-49" tabindex="-1"></a> <span class="dv">6</span> A273011002 <span class="dv">2003-09-01</span>  <span class="fl">3768.</span>  <span class="fl">3763.</span></span>
<span id="cb10-50"><a href="#cb10-50" tabindex="-1"></a> <span class="dv">7</span> A273011002 <span class="dv">2004-09-01</span>  <span class="fl">5044.</span>  <span class="fl">5045.</span></span>
<span id="cb10-51"><a href="#cb10-51" tabindex="-1"></a> <span class="dv">8</span> A273011002 <span class="dv">2005-09-01</span>  <span class="fl">4805.</span>  <span class="fl">4805.</span></span>
<span id="cb10-52"><a href="#cb10-52" tabindex="-1"></a> <span class="dv">9</span> A273011002 <span class="dv">2006-09-01</span>  <span class="fl">7095.</span>  <span class="fl">7093.</span></span>
<span id="cb10-53"><a href="#cb10-53" tabindex="-1"></a><span class="dv">10</span> A273011002 <span class="dv">2007-09-01</span>  <span class="fl">5575.</span>  <span class="fl">5562.</span></span>
<span id="cb10-54"><a href="#cb10-54" tabindex="-1"></a><span class="co"># ℹ 32 more rows</span></span>
<span id="cb10-55"><a href="#cb10-55" tabindex="-1"></a><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-workflow">Custom workflow<a class="anchor" aria-label="anchor" href="#custom-workflow"></a>
</h3>
<p>Maybe you can’t find the CARD that you want so you want to try to customize one or even create a new one based on another example. To do so, get the example CARD you want in a local directory by running</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/CARD_management.html">CARD_management</a></span><span class="op">(</span>CARD_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"VCN10-5"</span><span class="op">)</span>, CARD_path <span class="op">=</span> <span class="st">"CARD-WIP"</span><span class="op">)</span>  </span></code></pre></div>
<p>This will create the <code>VCN10-5.R</code> CARD in the <code>"CARD-WIP"</code> directory of your working directory.</p>
<p>From there, you can open this R file and, for example, change the metadata and the return period parameter from <code>5</code> to <code>10</code> to get the <code>VCN10-10</code> CARD, which represents the annual minimum of 10-day mean daily discharge with a return period of 10 years instead of 5.</p>
<p>For the extraction, simply run</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="reference/CARD_extraction.html">CARD_extraction</a></span><span class="op">(</span><span class="va">data</span>, CARD_name <span class="op">=</span> <span class="cn">NULL</span>,  </span>
<span>                      CARD_path <span class="op">=</span> <span class="st">"CARD-WIP"</span><span class="op">)</span>  </span></code></pre></div>
<p>This will perform the extraction of all the CARDs in the <code>CARD_path</code> directory.</p>
<p>If you want to select specific variables to extract from your custom CARD directory, just use the <code>CARD_name</code> variable as seen in the <a href="#basic-workflow">basic workflow</a> section.</p>
</div>
</div>
<div class="section level2">
<h2 id="what-is-a-card-">What is a CARD ?<a class="anchor" aria-label="anchor" href="#what-is-a-card-"></a>
</h2>
<div class="section level3">
<h3 id="inst__all__-directory">
<a href="https://github.com/louis-heraut/CARD/blob/main/inst/__all__" class="external-link">inst/__all__</a> directory<a class="anchor" aria-label="anchor" href="#inst__all__-directory"></a>
</h3>
<p>In this directory, you can find all the different CARDs available, organized by topic and type of aggregation: serie or criteria. In the <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a> terminology, a criterion is an aggregated variable that does not retain any temporal extension, unlike a serie variable, which maintains a temporal extension even after the aggregation process.</p>
<p>All CARDs have the same structure, as exemplified by the annual average daily flow <a href="https://github.com/louis-heraut/CARD/blob/main/inst/__all__/Flow/Mean_Flows/serie/QA.R" class="external-link"><code>QA</code></a> in <a href="https://github.com/louis-heraut/CARD/tree/main/inst/__all__/Flow/Mean_Flows/serie" class="external-link"><code>__all__/Flow/Mean_Flows/serie</code></a>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#   ___                _ </span></span>
<span><span class="co">#  / __| __ _  _ _  __| |</span></span>
<span><span class="co"># | (__ / _` || '_|/ _` |</span></span>
<span><span class="co">#  \___|\__,_||_|  \__,_|</span></span>
<span><span class="co"># Copyright 2022-2025 Louis Héraut (louis.heraut@inrae.fr)*1</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># *1   INRAE, France</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># This file is part of CARD R package.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># CARD R package is free software: you can redistribute it</span></span>
<span><span class="co"># and/or modify it under the terms of the GNU General Public License</span></span>
<span><span class="co"># as published by the Free Software Foundation, either version 3 of</span></span>
<span><span class="co"># the License, or (at your option) any later version.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># CARD R package is distributed in the hope that it will be</span></span>
<span><span class="co"># useful, but WITHOUT ANY WARRANTY; without even the implied warranty</span></span>
<span><span class="co"># of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></span>
<span><span class="co"># See the GNU General Public License for more details.</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># You should have received a copy of the GNU General Public License</span></span>
<span><span class="co"># along with CARD R package.</span></span>
<span><span class="co"># If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></span>
<span></span>
<span></span>
<span><span class="co">## INFO ______________________________________________________________</span></span>
<span><span class="co">### English __________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.variable_en</span> <span class="op">=</span> <span class="st">"QA"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.unit_en</span> <span class="op">=</span> <span class="st">"m^{3}.s^{-1}"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.name_en</span> <span class="op">=</span> <span class="st">"Annual mean daily discharge"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.description_en</span> <span class="op">=</span> <span class="st">""</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.method_en</span> <span class="op">=</span> <span class="st">"1. annual aggregation [09-01, 08-31] - mean"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.sampling_period_en</span> <span class="op">=</span> <span class="st">"09-01, 08-31"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.topic_en</span> <span class="op">=</span> <span class="st">"Flow, Mean Flows, Intensity"</span></span>
<span></span>
<span><span class="co">### French ___________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.variable_fr</span> <span class="op">=</span> <span class="st">"QA"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.unit_fr</span> <span class="op">=</span> <span class="st">"m^{3}.s^{-1}"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.name_fr</span> <span class="op">=</span> <span class="st">"Moyenne annuelle du débit journalier"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.description_fr</span> <span class="op">=</span> <span class="st">""</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.method_fr</span> <span class="op">=</span> <span class="st">"1. agrégation annuelle [01-09, 31-08] - moyenne"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.sampling_period_fr</span> <span class="op">=</span> <span class="st">"01-09, 31-08"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.topic_fr</span> <span class="op">=</span> <span class="st">"Débit, Moyennes Eaux, Intensité"</span></span>
<span></span>
<span><span class="co">### Global ___________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.preferred_hydrological_month</span> <span class="op">=</span> <span class="fl">9</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.is_date</span> <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.to_normalise</span> <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P.palette</span> <span class="op">=</span> <span class="st">"#452C1A #7F4A23 #B3762A #D4B86A #EFE0B0 #BCE6DB #7ACEB9 #449C93 #2A6863 #193830"</span></span>
<span></span>
<span></span>
<span><span class="co">## PROCESS ___________________________________________________________</span></span>
<span><span class="co">### P1 _______________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.funct</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>QA<span class="op">=</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.funct_args</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Q"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.time_step</span> <span class="op">=</span> <span class="st">"year"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.sampling_period</span> <span class="op">=</span> <span class="st">"09-01"</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.NApct_lim</span> <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P1.NAyear_lim</span> <span class="op">=</span> <span class="fl">10</span></span></code></pre></div>
<p>CARDs are separated into 2 main parts: <code>INFO</code> and <code>PROCESS</code>.</p>
<div class="section level5">
<h5 id="info">INFO<a class="anchor" aria-label="anchor" href="#info"></a>
</h5>
<p>In this part, you can find all the necessary information about the variable represented by this CARD. There are English and French versions for parameters such as the unit, the name, and the description. Global info are general info that do not need translation.</p>
<p>This information is not merely informational; it serves as metadata for <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a>.</p>
<p>All of these parameters are optional because each of them has a default value based on the <a href="https://github.com/louis-heraut/CARD/blob/main/inst/__default__.R" class="external-link"><code>__default__.R</code></a> CARD, which you can find in the <a href="https://github.com/louis-heraut/CARD/blob/main/inst" class="external-link">inst</a> directory. However, you are definitely encouraged to fill out most of them.</p>
</div>
<div class="section level5">
<h5 id="process">PROCESS<a class="anchor" aria-label="anchor" href="#process"></a>
</h5>
<p>In the PROCESS part, you will find steps needed to extract the desired variable. The parameters listed here are parameters that you can use in <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a>’s <a href="https://github.com/louis-heraut/EXstat/blob/main/R/process_extraction.R" class="external-link"><code>process_extraction()</code></a> function. Here, there is only one step because we only need to calculate a yearly mean and no other type of aggregation. However, for example, we can add another step like:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### P2 _______________________________________________________________</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P2.funct</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"meanQA"</span><span class="op">=</span><span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P2.funct_args</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"QA"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">CARD</span><span class="op">$</span><span class="va">P2.time_step</span> <span class="op">=</span> <span class="st">"none"</span></span></code></pre></div>
<p>And that will now be the modulus of the flow, which is the average of the annual average daily flow, labeled as <code>meanQA</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="r-directory">
<a href="https://github.com/louis-heraut/CARD/tree/main/R" class="external-link">R/</a> directory<a class="anchor" aria-label="anchor" href="#r-directory"></a>
</h3>
<p>In this directory, you can find all the different functions needed for the aggregation process in CARDs. They are ordered by type of application, but it may take some time to search and understand what is available or not. This is where you can modify or add your own function.</p>
<p>This directory also contains the core functions for <a href="https://github.com/louis-heraut/CARD/blob/main/R/CARD_management.R" class="external-link">CARD management</a> and <a href="https://github.com/louis-heraut/CARD/blob/main/R/CARD_process.R" class="external-link">CARD extraction</a>, which allow users to interact with the CARD formatting in connection with the <a href="https://github.com/louis-heraut/EXstat" class="external-link">EXstat</a> package.</p>
</div>
<div class="section level3">
<h3 id="you-need-a-new-card-">You need a new CARD ?<a class="anchor" aria-label="anchor" href="#you-need-a-new-card-"></a>
</h3>
<ul>
<li>
<strong>Good Solution</strong> : Search existing request in the issue list and if no one has asked for it, create a new issue.</li>
<li>
<strong>Better Solution</strong> : Along with the issue submission, provide a minimal CARD file with informative metadata filled out.</li>
<li>
<strong>Best Solution</strong> : Create and test a CARD by your own and submit a pull request. This is the fastest way to get a new CARD.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="faq">FAQ<a class="anchor" aria-label="anchor" href="#faq"></a>
</h2>
<p>📬 — <strong>I would like an upgrade / I have a question / Need to reach me</strong><br>
Feel free to <a href="https://github.com/louis-heraut/CARD/issues" class="external-link">open an issue</a> ! I’m actively maintaining this project, so I’ll do my best to respond quickly.<br>
I’m also reachable on my institutional INRAE <a href="mailto:louis.heraut@inrae.fr?subject=%5BCARD%5D">email</a> for more in-depth discussions.</p>
<p>🛠️ — <strong>I found a bug</strong><br>
- <em>Good Solution</em> : Search the existing issue list, and if no one has reported it, create a new issue !<br>
- <em>Better Solution</em> : Along with the issue submission, provide a minimal reproducible code sample.<br>
- <em>Best Solution</em> : Fix the issue and submit a pull request. This is the fastest way to get a bug fixed.</p>
<p>🚀 — <strong>Want to contribute ?</strong><br>
If you don’t know where to start, <a href="https://github.com/louis-heraut/CARD/issues" class="external-link">open an issue</a>.</p>
<p>If you want to try by yourself, why not start by also <a href="https://github.com/louis-heraut/CARD/issues" class="external-link">opening an issue</a> to let me know you’re working on something ? Then:</p>
<ul>
<li>Fork this repository<br>
</li>
<li>Clone your fork locally and make changes (or even better, create a new branch for your modifications)</li>
<li>Push to your fork and verify everything works as expected</li>
<li>Open a Pull Request on GitHub and describe what you did and why</li>
<li>Wait for review</li>
<li>For future development, keep your fork updated using the GitHub “Sync fork” functionality or by pulling changes from the original repo (or even via remote upstream if you’re comfortable with Git). Otherwise, feel free to delete your fork to keep things tidy !</li>
</ul>
<p>If we’re connected through work, why not reach out via email to see if we can collaborate more closely on this repo by adding you as a collaborator !</p>
<p>Refer to the <a href="CONTRIBUTING.html">CONTRIBUTING file</a> for contribution guidelines and help.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CARD</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Louis Héraut <br><small class="roles"> Maintainer, author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/louis-heraut/CARD/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/louis-heraut/CARD/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-green" alt="Lifecycle: stable"></a></li>
<li><a href="code_of_conduct.html"><img src="https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg" alt="Contributor Covenant"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Louis Héraut.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
